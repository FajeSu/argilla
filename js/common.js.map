{"version":3,"sources":["common.js","media-queries-config.json"],"names":["mediaQueries","smallMobile","mobile","tablet","landscape","portrait","smallNotebook","notebook","window","SMALL_MOBILE_WIDTH","MOBILE_WIDTH","PORTRAIT_TABLET_WIDTH","TABLET_WIDTH","SMALL_NOTEBOOK_WIDTH","NOTEBOOK_WIDTH","HEADER_HEIGHT","$","height","$WINDOW","$DOCUMENT","document","$HTML","documentElement","$BODY","body","TOSRUS_DEFAULTS","buttons","next","prev","keys","close","wrapper","onClick","WINDOW_WIDTH","innerWidth","width","WINDOW_HEIGHT","resize","IS_DESKTOP_WIDTH","IS_NOTEBOOK_WIDTH","IS_SMALL_NOTEBOOK_WIDTH","IS_TABLET_WIDTH","IS_MOBILE_WIDTH","IS_SMALL_MOBILE_WIDTH","IS_TOUCH_DEVICE","IS_DESKTOP","attr","mask","autoclear","placeholder","on","e","preventDefault","$popup","this","overlayLoader","node","hideSelector","$node","find","focus","selectric","disableOnMobile","nativeOnMobile","trigger","$inp","$label","closest","prop","addClass","removeClass","$group","$labels","$selectedItem","filter","$lnk","$elemToScroll","speed","data","offset","scrollTo","duration","$menus","$this","clearTimeout","setTimeout","IS_MOBILE","$anchor","$parent","parent","hasDropdown","hasClass","isHovered","siblings","location","href","click","$panel","hide","fadeIn","each","tosrus","effect","slides","visible","autoplay","play","timeout","infinite","pagination","add","goTopBtn","scroll","scrollTop","append"],"mappings":"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","file":"common.js","sourcesContent":["(function() { 'use strict';\r\n\r\n  // Const\r\n  // -----\r\n\r\n  var mediaQueries = [\r\n    {\r\n      \"smallMobile\": 480,\r\n      \"mobile\": 800,\r\n      \"tablet\": {\r\n        \"landscape\": 1024,\r\n        \"portrait\": 768\r\n      },\r\n      \"smallNotebook\": 1200,\r\n      \"notebook\": 1400\r\n    }\r\n  ][0];\r\n\r\n  window.SMALL_MOBILE_WIDTH = mediaQueries.smallMobile;\r\n  window.MOBILE_WIDTH = mediaQueries.mobile;\r\n  window.PORTRAIT_TABLET_WIDTH = mediaQueries.tablet.portrait;\r\n  window.TABLET_WIDTH = mediaQueries.tablet.landscape;\r\n  window.SMALL_NOTEBOOK_WIDTH = mediaQueries.smallNotebook;\r\n  window.NOTEBOOK_WIDTH = mediaQueries.notebook;\r\n\r\n  window.HEADER_HEIGHT = $('.header').height();\r\n\r\n  // selectors\r\n  window.$WINDOW = $(window);\r\n  window.$DOCUMENT = $(document);\r\n  window.$HTML = $(document.documentElement);\r\n  window.$BODY = $(document.body);\r\n\r\n  // tosrus default settings\r\n  window.TOSRUS_DEFAULTS = {\r\n    buttons: {\r\n      next: true,\r\n      prev: true\r\n    },\r\n\r\n    keys: {\r\n      prev: 37,\r\n      next: 39,\r\n      close: 27\r\n    },\r\n\r\n    wrapper: {\r\n      onClick: 'close'\r\n    }\r\n  };\r\n\r\n\r\n  // Helpers\r\n  // -------\r\n\r\n  window.WINDOW_WIDTH = window.innerWidth || $WINDOW.width();\r\n  window.WINDOW_HEIGHT = $WINDOW.height();\r\n  $WINDOW.resize(function() {\r\n    WINDOW_WIDTH = window.innerWidth || $WINDOW.width();\r\n    WINDOW_HEIGHT = $WINDOW.height();\r\n  });\r\n\r\n  window.IS_DESKTOP_WIDTH = function() {\r\n    return WINDOW_WIDTH > NOTEBOOK_WIDTH;\r\n  };\r\n  window.IS_NOTEBOOK_WIDTH = function() {\r\n    return ( WINDOW_WIDTH > SMALL_NOTEBOOK_WIDTH && WINDOW_WIDTH <= NOTEBOOK_WIDTH );\r\n  };\r\n  window.IS_SMALL_NOTEBOOK_WIDTH = function() {\r\n    return ( WINDOW_WIDTH > TABLET_WIDTH && WINDOW_WIDTH <= SMALL_NOTEBOOK_WIDTH );\r\n  };\r\n  window.IS_TABLET_WIDTH = function() {\r\n    return ( WINDOW_WIDTH >= PORTRAIT_TABLET_WIDTH && WINDOW_WIDTH <= TABLET_WIDTH );\r\n  };\r\n  window.IS_MOBILE_WIDTH = function() {\r\n    return WINDOW_WIDTH <= MOBILE_WIDTH;\r\n  };\r\n  window.IS_SMALL_MOBILE_WIDTH = function() {\r\n    return WINDOW_WIDTH <= SMALL_MOBILE_WIDTH;\r\n  };\r\n  window.IS_TOUCH_DEVICE = 'ontouchstart' in document;\r\n\r\n\r\n  // Masked input\r\n  // ------------\r\n\r\n  if (IS_DESKTOP) {\r\n    $('input[type=\"date\"]').attr('type', 'text');\r\n\r\n    // Phone\r\n    $('input[type=\"tel\"]').mask('+7 (999) 999-99-99', {\r\n      autoclear: false\r\n    });\r\n\r\n    // Date\r\n    $('.js-date-mask').mask('99/99/9999', {\r\n      placeholder: 'дд.мм.гггг',\r\n      autoclear: false\r\n    });\r\n\r\n    // Time\r\n    $('.js-time-mask').mask('99:99', {\r\n      placeholder: 'чч:мм',\r\n      autoclear: false\r\n    });\r\n  }\r\n\r\n  // Overlay loader\r\n  // --------------\r\n\r\n  // open popup\r\n  $DOCUMENT.on('click.overlay-open', '.js-overlay', function(e) {\r\n    e.preventDefault();\r\n\r\n    var $popup = $(this).attr('href');\r\n\r\n    $.overlayLoader(true, {\r\n      node: $popup,\r\n      hideSelector: '.js-popup-close'\r\n    });\r\n  });\r\n\r\n  // autofocus\r\n  $DOCUMENT.on('overlayLoaderShow', function(e, $node) {\r\n    $node.find('.js-autofocus-inp').focus();\r\n  });\r\n\r\n\r\n  // Selectric\r\n  // ---------\r\n\r\n  // init selectric\r\n  $DOCUMENT.on('initSelectric yiiListViewUpdated', function() {\r\n    $('select').selectric({\r\n      disableOnMobile: false,\r\n      nativeOnMobile: true\r\n    });\r\n  }).trigger('initSelectric');\r\n\r\n\r\n  // Checkboxes\r\n  // ----------\r\n\r\n  $('.checkbox input').on('change initCheckboxes', function() {\r\n    var $inp = $(this),\r\n        $label = $inp.closest('.checkbox');\r\n\r\n    if ( $inp.prop('checked') ) {\r\n      $label.addClass('checked');\r\n    } else {\r\n      $label.removeClass('checked');\r\n    }\r\n  }).trigger('initCheckboxes');\r\n\r\n\r\n  // Radio buttons\r\n  // ----------\r\n\r\n  $('.radio input').on('change initRadio', function() {\r\n    var $inp = $(this),\r\n        $group = $('[name=\"' + $inp.attr('name') + '\"]'),\r\n        $labels = $group.closest('.radio'),\r\n        $selectedItem = $labels.find('input').filter(':checked').closest('.radio');\r\n\r\n    $labels.removeClass('checked');\r\n    $selectedItem.addClass('checked');\r\n  }).trigger('initRadio');\r\n\r\n\r\n  // Scroll to\r\n  // ---------\r\n\r\n  $DOCUMENT.on('click.scroll-to', '.js-scroll-to', function(e) {\r\n    e.preventDefault();\r\n\r\n    var $lnk = $(this);\r\n    var $elemToScroll = $($lnk.attr('href'));\r\n    var speed = $lnk.data('speed') || 150;\r\n    var offset = $lnk.data('offset') || 0;\r\n\r\n    $WINDOW.scrollTo($elemToScroll, {duration: speed, offset: offset});\r\n  });\r\n\r\n\r\n  // Menus\r\n  // -----\r\n\r\n  (function() {\r\n    var $menus = $('.js-menu');\r\n\r\n    if (IS_DESKTOP) {\r\n      $menus.on('mouseenter.js-menu', 'li', function() {\r\n        var $this = $(this);\r\n        clearTimeout($this.data('hoverTimeout'));\r\n        $this.addClass('is-hovered');\r\n      });\r\n\r\n      $menus.on('mouseleave.js-menu', 'li', function() {\r\n        var $this = $(this);\r\n        $this.data('hoverTimeout', setTimeout(function() {\r\n          $this.removeClass('is-hovered');\r\n        }, 200));\r\n      });\r\n    }\r\n\r\n    if (IS_MOBILE) {\r\n      $menus.on('click.js-m-menu', 'a', function(e) {\r\n        e.preventDefault();\r\n\r\n        var $anchor = $(this);\r\n        var $parent = $anchor.parent();\r\n\r\n        var hasDropdown = $parent.hasClass('has-dropdown');\r\n        var isHovered = $parent.hasClass('is-hovered');\r\n\r\n        $parent.siblings().removeClass('is-hovered');\r\n\r\n        if (!hasDropdown) {\r\n          location.href = $anchor.attr('href');\r\n        } else {\r\n          if (isHovered) {\r\n            location.href = $anchor.attr('href');\r\n          } else {\r\n            $parent.addClass('is-hovered');\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }());\r\n\r\n\r\n  // Tabs\r\n  // ----\r\n\r\n  $('.js-tabs .tabs-nav li a').click(function(e) {\r\n    e.preventDefault();\r\n\r\n    var $this = $(this);\r\n    var $panel = $( $this.attr('href') );\r\n\r\n    $this.closest('li').addClass('active').siblings().removeClass('active');\r\n    $panel.closest('.tabs').find('.tabs-panel').hide();\r\n    $panel.fadeIn();\r\n  });\r\n\r\n\r\n  // Galleries\r\n  // ---------\r\n\r\n  // init tosrus static gallery\r\n  $('.js-gallery').each(function() {\r\n    $(this).find('.js-gallery-item').tosrus(TOSRUS_DEFAULTS);\r\n  });\r\n\r\n\r\n  // Rotators\r\n  // --------\r\n\r\n  $('.js-slideshow').each(function() {\r\n    var $this = $(this);\r\n\r\n    var tos = $this.tosrus({\r\n      effect: 'slide',\r\n      slides: {\r\n        visible: 1\r\n      },\r\n      autoplay: {\r\n        play: true,\r\n        timeout: 7500\r\n      },\r\n      infinite: true,\r\n      pagination: {\r\n        add: true\r\n      }\r\n    });\r\n  });\r\n\r\n\r\n  // Scrolling to top\r\n  // ----------------\r\n\r\n  if ( !IS_MOBILE_WIDTH() ) {\r\n    var goTopBtn = $('<div class=\"go-top-btn\"></div>');\r\n    goTopBtn.click(function() {\r\n      $WINDOW.scrollTo(0, 200);\r\n    });\r\n    $WINDOW.scroll(function() {\r\n      var scrollTop = $WINDOW.scrollTop();\r\n      if ( scrollTop > 0 ) {\r\n        goTopBtn.addClass('visible');\r\n      } else {\r\n        goTopBtn.removeClass('visible');\r\n      }\r\n    });\r\n    $BODY.append( goTopBtn );\r\n  }\r\n\r\n})();\r\n","{\r\n  \"smallMobile\": 480,\r\n  \"mobile\": 800,\r\n  \"tablet\": {\r\n    \"landscape\": 1024,\r\n    \"portrait\": 768\r\n  },\r\n  \"smallNotebook\": 1200,\r\n  \"notebook\": 1400\r\n}"]}